import{u as Ke,n as Re,c as p,p as A,o as Fe,j as ie,l as ue,t as k,i,d as v,N as Je,f as s,s as S,F as Ae,w as Ge,M as h,m as Ie,g as Be,h as He,k as Ue}from"./index-DaJwcuIo.js";let G=["","satu","dua","tiga","empat","lima","enam","tujuh","delapan","sembilan","sepuluh","sebelas","dua belas","tiga belas","empat belas","lima belas","enam belas","tujuh belas","delapan belas","sembilan belas"],de=["","","dua puluh","tiga puluh","empat puluh","lima puluh","enam puluh","tujuh puluh","delapan puluh","sembilan puluh"],We=["","seratus","dua ratus","tiga ratus","empat ratus","lima ratus","enam ratus","tujuh ratus","delapan ratus","sembilan ratus"];function ce(o){let g=("00000000"+o).slice(-8),b=g.substring(0,2),x=g.substring(2,5),L=g.substring(5),$=ze(b),O=qe(x),P=me(L);return $+O+P+" rupiah"}function be(o){return Number(o)===0?"":Number(o)%10===0?G[Number(o)]||`${de[o[0]]}`:G[Number(o)]||`${de[o[0]]} ${G[o[1]]}`}function me(o){let g="",b=o[0],x=o.substring(1);return g+=Number(b)!==0?" "+We[Number(b)]:"",g+=Number(x)!==0?" "+be(x):"",g}function qe(o){let g=me(o);return g.length>0?g+" ribu":g}function ze(o){return Number(o)!==0?be(o)+" juta":""}var Qe=k('<div><div class=print:hidden><div><main class="flex-grow p-4 "><div class="bg-white rounded-lg shadow-md p-6 max-w-6xl mx-auto"><h1 class="text-2xl font-bold text-gray-800 mb-6">Form Kwitansi</h1><div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"><div class="border rounded-lg p-4"><h2 class="text-sm font-semibold text-gray-700 mb-2">Pilihan Tanggal</h2><div class="flex flex-col gap-3"><div class="flex items-center gap-1"><input type=radio id=default_date name=dateOption value=default class="h-4 w-4 text-blue-600 focus:ring-blue-500"><label for=default_date class="text-sm text-gray-700">Default</label></div><div class="flex items-center gap-1"><input type=radio id=costum_date name=dateOption value=costum class="h-4 w-4 text-blue-600 focus:ring-blue-500"><label for=costum_date class="text-sm text-gray-700">Custom</label><input type=date class="border border-gray-300 rounded px-2 py-1 text-sm disabled:opacity-50"></div></div></div><div class="border rounded-lg p-4"><label class="block text-sm font-semibold text-gray-700 mb-2">Pilih Kertas</label><select class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"><option value>-- Pilih kertas --</option></select></div><div class="border rounded-lg p-4"><h2 class="text-sm font-semibold text-gray-700 mb-2">Jenis Kwitansi</h2><div class=space-y-2></div></div></div><div class=space-y-4><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for=name class="block text-sm font-medium text-gray-700 mb-1">Nama</label><input id=name type=text class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Nama pasien"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Total Biaya: Rp </label><div class="flex gap-2"><input id=fee type=number class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"><button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors">Hitung</button></div></div></div><div><label for=terbilang class="block text-sm font-medium text-gray-700 mb-1">Terbilang</label><input id=terbilang type=text class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Jumlah biaya dalam huruf"></div><div><label for=username class="block text-sm font-medium text-gray-700 mb-1">Dibuat oleh</label><input id=username type=text class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Nama pembuat"></div><div class=pt-4><button class="w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md font-medium transition-colors">Cetak Kwitansi</button></div></div></div></main></div></div><div class="hidden print:block"><div class="relative w-[210mm] h-[297mm] bg-white">'),Ve=k("<option>"),Xe=k('<div class="flex items-center"><input type=radio name=printOption class="h-4 w-4 text-blue-600 focus:ring-blue-500"><label class="ml-2 text-sm text-gray-700">'),Ze=k('<div><label class="block text-sm font-medium text-gray-700 mb-1">Keterangan - </label><input type=text class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">'),y=k("<div class=absolute>");function tt(){const[o,g]=Ke(He),b=Re(),[x,L]=p({}),[$,O]=p("Gelatik-Large"),[P,I]=p("default"),[M,ge]=p("doctor&drug"),[B,H]=p(A().format("YYYY-MM-DD")),[j,U]=p(""),[_,W]=p(0),[q,C]=p(""),[N,w]=p(["","",""]),[z,ve]=p("");Fe(()=>{document.title="Kwitansi";const n=b.state;n&&(U(n.patientName||""),H(A(n.createdOn,"YYYY-MM-DDThh:mm:SS.sss").format("YYYY-MM-DD")),w(d=>[`Obat dan jasa ${n.doctorName||""}`,d[1],d[2]]));const u=new AbortController;ie.get("profile",{signal:u.signal}).then(d=>{})}),ue(()=>{const n=new AbortController;return ie.get("paper/payment",{signal:n.signal}).then(u=>{const m=u.data.data.reduce((c,f)=>(c[f.paper]||(c[f.paper]=[]),c[f.paper].push({label:f.label,top:f.top,left:f.left}),c),{});L(m)}).catch(u=>{console.error("Failed to fetch paper templates:",u),alert("Gagal memuat template kwitansi")}),()=>n.abort()}),ue(()=>{var n,u,d,m,c;switch(M()){case"doctor&drug":C(""),w([`Obat dan jasa ${((n=b.state)==null?void 0:n.doctorName)||""}`,"",""]);break;case"drug":C(""),w([`Obat untuk ${((u=b.state)==null?void 0:u.patientName)||j()}`,"",""]);break;case"doctor":W(((d=b.state)==null?void 0:d.fee)||0),C(ce(((m=b.state)==null?void 0:m.fee)||0)),w([`Jasa ${((c=b.state)==null?void 0:c.doctorName)||""}`,"",""]);break}});const pe=()=>{var u,d,m;C(ce(_()));let n="";switch(M()){case"doctor&drug":const c=parseInt(_())-parseInt(((u=b.state)==null?void 0:u.fee)||0);n=`Obat = Rp ${Number(c).toLocaleString()}, jasa dokter = Rp ${Number(((d=b.state)==null?void 0:d.fee)||0).toLocaleString()}`;break;case"doctor":n=`Jasa dokter Rp ${Number(((m=b.state)==null?void 0:m.fee)||0).toLocaleString()}`;break;default:n=`Obat Rp ${Number(_()).toLocaleString()}`;break}w(c=>[c[0],n,c[2]])},fe=()=>{window.print()},he=(n,u)=>{w(d=>{const m=[...d];return m[n]=u,m})};return(()=>{var n=Qe(),u=n.firstChild,d=u.firstChild,m=d.firstChild,c=m.firstChild,f=c.firstChild,E=f.nextSibling,Q=E.firstChild,ye=Q.firstChild,xe=ye.nextSibling,V=xe.firstChild,X=V.firstChild,$e=V.nextSibling,T=$e.firstChild,_e=T.nextSibling,K=_e.nextSibling,Z=Q.nextSibling,we=Z.firstChild,Y=we.nextSibling;Y.firstChild;var Pe=Z.nextSibling,Ce=Pe.firstChild,Se=Ce.nextSibling,ee=E.nextSibling,te=ee.firstChild,le=te.firstChild,ke=le.firstChild,re=ke.nextSibling,Ne=le.nextSibling,R=Ne.firstChild;R.firstChild;var Ye=R.nextSibling,F=Ye.firstChild,De=F.nextSibling,ae=te.nextSibling,Le=ae.firstChild,se=Le.nextSibling,J=ae.nextSibling,Oe=J.firstChild,ne=Oe.nextSibling,Me=J.nextSibling,je=Me.firstChild,Ee=u.nextSibling,Te=Ee.firstChild;return i(d,v(Je,{}),m),i(c,$,E),X.addEventListener("change",l=>I(l.target.value)),T.addEventListener("change",l=>I(l.target.value)),K.addEventListener("change",l=>H(l.target.value)),Y.addEventListener("change",l=>O(l.target.value)),i(Y,()=>Object.keys(x()).map(l=>(()=>{var e=Ve();return e.value=l,i(e,l),s(()=>e.selected=$()===l),e})()),null),i(Se,()=>[{id:"doctor&drug",label:"Dokter & Obat"},{id:"drug",label:"Obat"},{id:"doctor",label:"Dokter"}].map(l=>(()=>{var e=Xe(),t=e.firstChild,a=t.nextSibling;return t.addEventListener("change",r=>ge(r.target.value)),i(a,()=>l.label),s(r=>{var D=l.id,oe=l.id;return D!==r.e&&S(t,"id",r.e=D),oe!==r.t&&S(a,"for",r.t=oe),r},{e:void 0,t:void 0}),s(()=>t.value=l.id),s(()=>t.checked=M()===l.id),e})())),re.addEventListener("change",l=>U(l.target.value)),i(R,()=>Number(_()).toLocaleString(),null),F.$$input=l=>W(l.target.value),De.$$click=pe,se.addEventListener("change",l=>C(l.target.value)),i(ee,()=>N().map((l,e)=>(()=>{var t=Ze(),a=t.firstChild;a.firstChild;var r=a.nextSibling;return S(a,"for",`comment${e+1}`),i(a,e+1,null),r.addEventListener("change",D=>he(e,D.target.value)),S(r,"id",`comment${e+1}`),r.value=l,S(r,"placeholder",`Keterangan - ${e+1}`),t})()),J),ne.addEventListener("change",l=>ve(l.target.value)),je.$$click=fe,i(u,v(Ae,{}),null),i(Te,v(Ie,{get each(){return x()[$()]},children:l=>v(Ge,{get children(){return[v(h,{get when(){return l.label==="fee"},get children(){var e=y();return i(e,()=>Number(_()).toLocaleString()),s(t=>{var a=`${l.top}mm`,r=`${l.left}mm`;return a!==t.e&&((t.e=a)!=null?e.style.setProperty("top",a):e.style.removeProperty("top")),r!==t.t&&((t.t=r)!=null?e.style.setProperty("left",r):e.style.removeProperty("left")),t},{e:void 0,t:void 0}),e}}),v(h,{get when(){return l.label==="date"},get children(){var e=y();return i(e,()=>A(B(),"YYYY-MM-DD").format("DD MMMM YYYY")),s(t=>{var a=`${l.top}mm`,r=`${l.left}mm`;return a!==t.e&&((t.e=a)!=null?e.style.setProperty("top",a):e.style.removeProperty("top")),r!==t.t&&((t.t=r)!=null?e.style.setProperty("left",r):e.style.removeProperty("left")),t},{e:void 0,t:void 0}),e}}),v(h,{get when(){return l.label==="name"},get children(){var e=y();return i(e,j),s(t=>{var a=`${l.top}mm`,r=`${l.left}mm`;return a!==t.e&&((t.e=a)!=null?e.style.setProperty("top",a):e.style.removeProperty("top")),r!==t.t&&((t.t=r)!=null?e.style.setProperty("left",r):e.style.removeProperty("left")),t},{e:void 0,t:void 0}),e}}),v(h,{get when(){return l.label==="terbilang"},get children(){var e=y();return i(e,q),s(t=>{var a=`${l.top}mm`,r=`${l.left}mm`;return a!==t.e&&((t.e=a)!=null?e.style.setProperty("top",a):e.style.removeProperty("top")),r!==t.t&&((t.t=r)!=null?e.style.setProperty("left",r):e.style.removeProperty("left")),t},{e:void 0,t:void 0}),e}}),v(h,{get when(){return l.label==="comment1"},get children(){var e=y();return i(e,()=>N()[0]),s(t=>{var a=`${l.top}mm`,r=`${l.left}mm`;return a!==t.e&&((t.e=a)!=null?e.style.setProperty("top",a):e.style.removeProperty("top")),r!==t.t&&((t.t=r)!=null?e.style.setProperty("left",r):e.style.removeProperty("left")),t},{e:void 0,t:void 0}),e}}),v(h,{get when(){return l.label==="comment2"},get children(){var e=y();return i(e,()=>N()[1]),s(t=>{var a=`${l.top}mm`,r=`${l.left}mm`;return a!==t.e&&((t.e=a)!=null?e.style.setProperty("top",a):e.style.removeProperty("top")),r!==t.t&&((t.t=r)!=null?e.style.setProperty("left",r):e.style.removeProperty("left")),t},{e:void 0,t:void 0}),e}}),v(h,{get when(){return l.label==="comment3"},get children(){var e=y();return i(e,()=>N()[2]),s(t=>{var a=`${l.top}mm`,r=`${l.left}mm`;return a!==t.e&&((t.e=a)!=null?e.style.setProperty("top",a):e.style.removeProperty("top")),r!==t.t&&((t.t=r)!=null?e.style.setProperty("left",r):e.style.removeProperty("left")),t},{e:void 0,t:void 0}),e}}),v(h,{get when(){return l.label==="username"},get children(){var e=y();return i(e,z),s(t=>{var a=`${l.top}mm`,r=`${l.left}mm`;return a!==t.e&&((t.e=a)!=null?e.style.setProperty("top",a):e.style.removeProperty("top")),r!==t.t&&((t.t=r)!=null?e.style.setProperty("left",r):e.style.removeProperty("left")),t},{e:void 0,t:void 0}),e}})]}})})),s(l=>{var e=`min-h-screen flex flex-col ${o.bg} `,t=P()!=="costum";return e!==l.e&&Be(d,l.e=e),t!==l.t&&(K.disabled=l.t=t),l},{e:void 0,t:void 0}),s(()=>X.checked=P()==="default"),s(()=>T.checked=P()==="costum"),s(()=>K.value=B()),s(()=>Y.value=$()),s(()=>re.value=j()),s(()=>F.value=_()),s(()=>se.value=q()),s(()=>ne.value=z()),n})()}Ue(["input","click"]);export{tt as default};
