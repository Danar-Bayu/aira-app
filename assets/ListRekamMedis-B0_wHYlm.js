import{a as o,u as xe,o as ve,b as _e,h as f,t as b,i as t,c as s,N as we,s as P,S as h,F as ye,j as $e,d as U,e as Se,A as ke,f as Ye}from"./index-DXDLFBei.js";import{F as Me}from"./Footer-B75p_J2n.js";import{c as V}from"./axiosApi-B-s5UtN4.js";import{p as De}from"./profile-user-white-B8zYd-4a.js";const Ce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%206C13.7614%206%2016%208.23858%2016%2011M16.6588%2016.6549L21%2021M19%2011C19%2015.4183%2015.4183%2019%2011%2019C6.58172%2019%203%2015.4183%203%2011C3%206.58172%206.58172%203%2011%203C15.4183%203%2019%206.58172%2019%2011Z'%20stroke='%23FFFFFF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";var q=b('<small class="font-sans antialiased text-sm text-red-500 mt-1 block">'),Ne=b('<div class="overflow-x-auto mt-2 bg-white"><table class="w-full border-collapse border-gray-500 "><thead><tr class=bg-gray-200><th class="border border-gray-300 px-4 py-2 text-left">No</th><th class="border border-gray-300 px-4 py-2 text-left">Nama</th><th class="border border-gray-300 px-4 py-2 text-left hidden md:table-cell">Dokter</th><th class="border border-gray-300 px-4 py-2 text-left hidden md:table-cell">Jasa</th><th class="border border-gray-300 px-4 py-2 text-left hidden md:table-cell">Debit</th><th class="border border-gray-300 px-4 py-2 text-left">Keterangan</th></tr></thead><tbody>'),Te=b('<div class="flex flex-col min-h-screen bg-blue-200"><main class="flex-grow px-4 mb-3"><div class="flex flex-col md:flex-row gap-4"><div class="flex gap-4"><input type=date class="aria-disabled:cursor-not-allowed outline-none focus:outline-none text-stone-800 placeholder:text-stone-600/60 ring-transparent border border-stone-200 transition-all ease-in disabled:opacity-50 disabled:pointer-events-none select-none text-sm py-2 px-2.5 ring shadow-sm bg-white rounded-lg duration-100 hover:border-stone-300 hover:ring-none focus:border-stone-400 focus:ring-none peer"><input type=date class="aria-disabled:cursor-not-allowed outline-none focus:outline-none text-stone-800 placeholder:text-stone-600/60 ring-transparent border border-stone-200 transition-all ease-in disabled:opacity-50 disabled:pointer-events-none select-none text-sm py-2 px-2.5 ring shadow-sm bg-white rounded-lg duration-100 hover:border-stone-300 hover:ring-none focus:border-stone-400 focus:ring-none peer"></div><div><button class="inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none text-sm py-2 px-4 shadow-sm hover:shadow-md bg-blue-500 hover:bg-info-light relative bg-gradient-to-b from-blue-500 to-blue-600 border-blue-600 text-stone-50 rounded-lg hover:bg-gradient-to-b hover:from-blue-600 hover:to-blue-600 hover:border-blue-600 after:absolute after:inset-0 after:rounded-[inherit] after:box-shadow after:shadow-[inset_0_1px_0px_rgba(255,255,255,0.35),inset_0_-2px_0px_rgba(0,0,0,0.18)] after:pointer-events-none transition antialiased"><img class="w-5 mr-2">Cari</button></div></div><hr class="mt-3 border-b-1 border-gray-400">'),Re=b('<div class="flex justify-center items-center h-50">'),He=b('<span class="mx-2 bg-gray-800 text-white text-xs px-3 rounded-lg shadow-lg">copied'),je=b(`<tr><td class="border border-gray-300 px-2 py-2"><p class></p><p class="text-sm font-bold">'<!>'</p></td><td class="text-xs border border-gray-300 px-4 py-2 md:hidden"><span class=font-semibold></span><div class="text-sm text-gray-500"></div><div class="text-sm text-gray-500"></div></td><td class="border border-gray-300 px-4 py-2 hidden md:table-cell"><div><span class=font-semibold></span><span><button class="inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center transition-all duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none text-xs rounded-lg ml-2 px-3 bg-gray-100 border-transparent text-stone-800 hover:bg-green-300 hover:border-green-800/5 shadow-none hover:shadow-none">copy</button></span><span></span><div class="text-sm text-gray-500"></div></div></td><td class="border border-gray-300 px-4 py-2 hidden md:table-cell"></td><td class="border border-gray-300 px-4 py-2 hidden md:table-cell"></td><td class="border border-gray-300 px-4 py-2"><input type=checkbox class="appearance-none relative inline-block rounded-full w-12 h-6 cursor-pointer before:inline-block before:absolute before:top-0 before:left-0 before:w-full before:h-full before:rounded-full before:bg-stone-200 before:transition-colors before:duration-200 before:ease-in after:absolute after:top-2/4 after:left-0 after:-translate-y-2/4 after:w-6 after:h-6 after:border after:border-stone-200 after:bg-white after:rounded-full checked:after:translate-x-full after:transition-all after:duration-200 after:ease-in disabled:opacity-50 disabled:cursor-not-allowed dark:after:bg-white checked:before:bg-stone-800 checked:after:border-stone-800"><div class=md:hidden></div></td><td class="border border-gray-300 px-4 py-2 text-sm hidden md:table-cell">`),Fe=b('<tr class=bg-blue-300><td colspan=6 class="border border-gray-300 px-4 py-2 text center"><div class="flex gap-4"><button type=button class="px-3 py-1 text-xs inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none shadow-sm hover:shadow-md bg-blue-800 relative bg-gradient-to-b from-blue-600 to-blue-800 border-blue-900 text-blue-50 rounded-lg hover:bg-gradient-to-b hover:from-stone-700 hover:to-stone-700 hover:border-stone-900 after:absolute after:inset-0 after:rounded-[inherit] after:box-shadow after:shadow-[inset_0_1px_0px_rgba(255,255,255,0.25),inset_0_-2px_0px_rgba(0,0,0,0.35)] after:pointer-events-none transition antialiased"><img class="hidden md:block w-5 mr-2">Profile</button><button type=button class="px-5 py-1 text-sm inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none shadow-sm hover:shadow-md bg-blue-800 relative bg-gradient-to-b from-blue-600 to-blue-800 border-blue-900 text-blue-50 rounded-lg hover:bg-gradient-to-b hover:from-stone-700 hover:to-stone-700 hover:border-stone-900 after:absolute after:inset-0 after:rounded-[inherit] after:box-shadow after:shadow-[inset_0_1px_0px_rgba(255,255,255,0.25),inset_0_-2px_0px_rgba(0,0,0,0.35)] after:pointer-events-none transition antialiased">RX</button><button type=button class="px-5 py-1 text-xs inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none shadow-sm hover:shadow-md bg-blue-800 relative bg-gradient-to-b from-blue-600 to-blue-800 border-blue-900 text-blue-50 rounded-lg hover:bg-gradient-to-b hover:from-stone-700 hover:to-stone-700 hover:border-stone-900 after:absolute after:inset-0 after:rounded-[inherit] after:box-shadow after:shadow-[inset_0_1px_0px_rgba(255,255,255,0.25),inset_0_-2px_0px_rgba(0,0,0,0.35)] after:pointer-events-none transition antialiased">K W');function Ke(Ee){const[Y,B]=o(""),[Oe,Le]=o(""),[M,J]=o(""),[w,X]=o(""),[D,Z]=o([]),[z,C]=o(!1),[Q,ee]=o("Tidak ada data"),[p,te]=o({}),y=xe(),[ae,N]=o(!1);ve(()=>document.title="Rekam Medis"),_e(()=>{const n=f().startOf("day").format("YYYY-MM-DDTHH:mm:ss.SSS"),r=f().endOf("day").format("YYYY-MM-DDTHH:mm:ss.SSS");T({start:n,end:r})});function ne(){let n={};return Y().trim()||(n.start="Silakan masukkan tanggal awal"),M().trim()||(n.end="Silakan masukkan tanggal akhir"),te(n),Object.keys(n).length===0}function T({start:n,end:r}){const m=new AbortController;V.get("mr",{params:{start:n,end:r},signal:m.signal}).then(i=>{Z(i.data.data),i.data.data.length===0&&ee("Tidak ada data pada rentang tanggal tersebut")}).catch(i=>{alert(i.message)})}function re({name:n}){navigator.clipboard.writeText(n,"copy"),N(!0),setTimeout(()=>{N(!1)},2e3)}return(()=>{var n=Te(),r=n.firstChild,m=r.firstChild,i=m.firstChild,R=i.firstChild,oe=R.nextSibling,se=i.nextSibling,H=se.firstChild,le=H.firstChild,j=m.nextSibling;return t(n,s(we,{}),r),R.addEventListener("change",a=>B(a.currentTarget.value)),oe.addEventListener("change",a=>J(a.currentTarget.value)),H.$$click=()=>{if(ne()){const a=f(Y(),"YYYY-MM-DD").startOf("day").format("YYYY-MM-DDTHH:mm:ss.SSS"),$=f(M(),"YYYY-MM-DD").endOf("day").format("YYYY-MM-DDTHH:mm:ss.SSS");T({start:a,end:$})}},P(le,"src",Ce),t(r,s(h,{get when(){return p().start},fallback:[],get children(){var a=q();return t(a,()=>p().start),a}}),j),t(r,s(h,{get when(){return p().end},fallback:[],get children(){var a=q();return t(a,()=>p().end),a}}),j),t(r,s(h,{get when(){return D().length>0},get fallback(){return(()=>{var a=Re();return t(a,Q),a})()},get children(){var a=Ne(),$=a.firstChild,ie=$.firstChild,de=ie.nextSibling;return t(de,s(ye,{get each(){return D()},children:(e,be)=>[(()=>{var d=je(),x=d.firstChild,u=x.firstChild,c=u.nextSibling,S=c.firstChild,g=S.nextSibling;g.nextSibling;var v=x.nextSibling,F=v.firstChild,E=F.nextSibling,ce=E.nextSibling,O=v.nextSibling,fe=O.firstChild,L=fe.firstChild,k=L.nextSibling,ue=k.firstChild,ge=k.nextSibling,he=ge.nextSibling,I=O.nextSibling,A=I.nextSibling,G=A.nextSibling,_=G.firstChild,pe=_.nextSibling,me=G.nextSibling;return d.$$click=()=>X(e.id),t(u,()=>be()+1),t(c,()=>e.numberRM,g),t(F,()=>e.patientName),t(E,()=>f(e.createdOn,"YYYY-MM-DDTHH:mm:ss.SSS").format("DD MMM YYYY")),t(ce,()=>e.doctorName),t(L,()=>e.patientName),ue.$$click=()=>re({name:e.patientName}),t(k,s(h,{get when(){return $e(()=>!!ae())()&&w()===e.id},fallback:[],get children(){return He()}}),null),t(he,()=>f(e.createdOn,"YYYY-MM-DDTHH:mm:ss.SSS").format("DD MMM YYYY")),t(I,()=>e.doctorName),t(A,()=>Number(e.fee).toLocaleString()),_.$$input=l=>{console.log(l.currentTarget.checked),C(!0),V.put("mr/"+e.id,{id:e.id,fee:e.fee,disc:e.disc,createdOn:e.createdOn,comment:e.comment,isDebit:l.currentTarget.checked,isDeleted:e.isDeleted,patientId:e.patientId,numberRM:e.numberRM,patientName:e.patientName,doctorId:e.doctorId,doctorName:e.doctorName}).finally(()=>C(!1))},t(pe,()=>e.comment),t(me,()=>e.comment),U(l=>{var W=`border border-gray-300 ${w()===e.id?"bg-blue-300":""}`,K=z();return W!==l.e&&Se(d,l.e=W),K!==l.t&&(_.disabled=l.t=K),l},{e:void 0,t:void 0}),U(()=>_.checked=e.isDebit),d})(),s(h,{get when(){return w()===e.id},fallback:[],get children(){var d=Fe(),x=d.firstChild,u=x.firstChild,c=u.firstChild,S=c.firstChild,g=c.nextSibling,v=g.nextSibling;return c.$$click=()=>y(`/pasien/${e.patientId}`),P(S,"src",De),g.$$click=()=>y("/copy-resep",{state:e}),v.$$click=()=>y("/kwitansi",{state:e}),t(u,s(ke,{get href(){return`/mr/${e.id}`},target:"blank",class:"px-3 py-1 text-sm inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none shadow-sm hover:shadow-md bg-blue-800 relative bg-gradient-to-b from-blue-600 to-blue-800 border-blue-900 text-blue-50 rounded-lg hover:bg-gradient-to-b hover:from-stone-700 hover:to-stone-700 hover:border-stone-900 after:absolute after:inset-0 after:rounded-[inherit] after:box-shadow after:shadow-[inset_0_1px_0px_rgba(255,255,255,0.25),inset_0_-2px_0px_rgba(0,0,0,0.35)] after:pointer-events-none transition antialiased",children:"Detail"}),null),d}})]})),a}}),null),t(n,s(Me,{}),null),n})()}Ye(["click","input"]);export{Ke as default};
