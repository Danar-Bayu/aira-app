import{u as Re,n as Te,c as p,p as A,o as Fe,j as oe,l as de,t as N,i as r,d as m,N as Je,f as u,s as S,F as Ae,w as Ge,M as h,m as Ie,g as Be,h as He,k as Ue}from"./index-QDpuPou6.js";let G=["","satu","dua","tiga","empat","lima","enam","tujuh","delapan","sembilan","sepuluh","sebelas","dua belas","tiga belas","empat belas","lima belas","enam belas","tujuh belas","delapan belas","sembilan belas"],ue=["","","dua puluh","tiga puluh","empat puluh","lima puluh","enam puluh","tujuh puluh","delapan puluh","sembilan puluh"],We=["","seratus","dua ratus","tiga ratus","empat ratus","lima ratus","enam ratus","tujuh ratus","delapan ratus","sembilan ratus"];function ce(a){let c=("00000000"+a).slice(-8),o=c.substring(0,2),x=c.substring(2,5),Y=c.substring(5),$=ze(o),D=qe(x),k=me(Y);return $+D+k+" rupiah"}function be(a){return Number(a)===0?"":Number(a)%10===0?G[Number(a)]||`${ue[a[0]]}`:G[Number(a)]||`${ue[a[0]]} ${G[a[1]]}`}function me(a){let c="",o=a[0],x=a.substring(1);return c+=Number(o)!==0?" "+We[Number(o)]:"",c+=Number(x)!==0?" "+be(x):"",c}function qe(a){let c=me(a);return c.length>0?c+" ribu":c}function ze(a){return Number(a)!==0?be(a)+" juta":""}var Qe=N('<div><div class=print:hidden><div><main class="flex-grow p-4 "><div class="bg-white rounded-lg shadow-md p-6 max-w-6xl mx-auto"><h1 class="text-2xl font-bold text-gray-800 mb-6">Form Kwitansi</h1><div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"><div class="border rounded-lg p-4"><h2 class="text-sm font-semibold text-gray-700 mb-2">Pilihan Tanggal</h2><div class="flex flex-col gap-3"><div class="flex items-center gap-1"><input type=radio id=default_date name=dateOption value=default class="h-4 w-4 text-blue-600 focus:ring-blue-500"><label for=default_date class="text-sm text-gray-700">Default</label></div><div class="flex items-center gap-1"><input type=radio id=costum_date name=dateOption value=costum class="h-4 w-4 text-blue-600 focus:ring-blue-500"><label for=costum_date class="text-sm text-gray-700">Custom</label><input type=date class="border border-gray-300 rounded px-2 py-1 text-sm disabled:opacity-50"></div></div></div><div class="border rounded-lg p-4"><label class="block text-sm font-semibold text-gray-700 mb-2">Pilih Kertas</label><select class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"><option value>-- Pilih kertas --</option></select></div><div class="border rounded-lg p-4"><h2 class="text-sm font-semibold text-gray-700 mb-2">Jenis Kwitansi</h2><div class=space-y-2></div></div></div><div class=space-y-4><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for=name class="block text-sm font-medium text-gray-700 mb-1">Nama</label><input id=name type=text class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Nama pasien"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Total Biaya: Rp </label><div class="flex gap-2"><input id=fee type=number class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"><button class="bg-blue-600 hover:bg-blue-700 inset-shadow-sm text-white text-white [text-shadow:_-1px_-1px_0_black,_1px_-1px_0_black,_-1px_1px_0_black,_1px_1px_0_black] px-4 py-2 rounded text-sm font-medium transition-colors border shadow">Hitung</button></div></div></div><div><label for=terbilang class="block text-sm font-medium text-gray-700 mb-1">Terbilang</label><input id=terbilang type=text class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Jumlah biaya dalam huruf"></div><div><label for=username class="block text-sm font-medium text-gray-700 mb-1">Dibuat oleh</label><input id=username type=text class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Nama pembuat"></div><div class=pt-4><button class="w-full md:w-auto bg-blue-600 inset-shadow-sm hover:bg-blue-700 text-white [text-shadow:_-1px_-1px_0_black,_1px_-1px_0_black,_-1px_1px_0_black,_1px_1px_0_black] border px-6 py-3 rounded-md font-medium transition-colors">Cetak Kwitansi</button></div></div></div></main></div></div><div class="hidden print:block"><div class="relative w-[210mm] h-[260mm] bg-white">'),Ve=N("<option>"),Xe=N('<div class="flex items-center"><input type=radio name=printOption class="h-4 w-4 text-blue-600 focus:ring-blue-500"><label class="ml-2 text-sm text-gray-700">'),Ze=N('<div><label class="block text-sm font-medium text-gray-700 mb-1">Keterangan - </label><input type=text class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">'),v=N("<div class=absolute>");function tt(){const[a,c]=Re(He),o=Te(),[x,Y]=p({}),[$,D]=p("Gelatik-Large"),[k,I]=p("default"),[M,ge]=p("doctor&drug"),[B,H]=p(A().format("YYYY-MM-DD")),[j,U]=p(""),[y,W]=p(0),[q,C]=p(""),[P,w]=p(["","",""]),[z,pe]=p("");Fe(()=>{document.title="Kwitansi";const l=o.state;l&&(U(l.patientName||""),H(A(l.createdOn).format("YYYY-MM-DD")),w(n=>[`Obat dan jasa ${l.doctorName||""}`,n[1],n[2]]));const s=new AbortController;oe.get("profile",{signal:s.signal}).then(n=>{})}),de(()=>{const l=new AbortController;return oe.get("paper/payment",{signal:l.signal}).then(s=>{const d=s.data.data.reduce((i,f)=>(i[f.paper]||(i[f.paper]=[]),i[f.paper].push({label:f.label,top:f.top,left:f.left}),i),{});Y(d)}).catch(s=>{console.error("Failed to fetch paper templates:",s),alert("Gagal memuat template kwitansi")}),()=>l.abort()}),de(()=>{var l,s,n,d,i;switch(M()){case"doctor&drug":C(""),w([`Obat dan jasa ${((l=o.state)==null?void 0:l.doctorName)||""}`,"",""]);break;case"drug":C(""),w([`Obat untuk ${((s=o.state)==null?void 0:s.patientName)||j()}`,"",""]);break;case"doctor":W(((n=o.state)==null?void 0:n.fee)||0),C(ce(((d=o.state)==null?void 0:d.fee)||0)),w([`Jasa ${((i=o.state)==null?void 0:i.doctorName)||""}`,"",""]);break}});const fe=()=>{var s,n,d;C(ce(y()));let l="";switch(M()){case"doctor&drug":const i=parseInt(y())-parseInt(((s=o.state)==null?void 0:s.fee)||0);l=`Obat = Rp ${Number(i).toLocaleString()}, jasa dokter = Rp ${Number(((n=o.state)==null?void 0:n.fee)||0).toLocaleString()}`;break;case"doctor":l=`Jasa dokter Rp ${Number(((d=o.state)==null?void 0:d.fee)||0).toLocaleString()}`;break;default:l=`Obat Rp ${Number(y()).toLocaleString()}`;break}w(i=>[i[0],l,i[2]])},he=()=>{window.print()},ve=(l,s)=>{w(n=>{const d=[...n];return d[l]=s,d})};return(()=>{var l=Qe(),s=l.firstChild,n=s.firstChild,d=n.firstChild,i=d.firstChild,f=i.firstChild,E=f.nextSibling,Q=E.firstChild,xe=Q.firstChild,_e=xe.nextSibling,V=_e.firstChild,X=V.firstChild,$e=V.nextSibling,K=$e.firstChild,ye=K.nextSibling,R=ye.nextSibling,Z=Q.nextSibling,we=Z.firstChild,L=we.nextSibling;L.firstChild;var ke=Z.nextSibling,Ce=ke.firstChild,Se=Ce.nextSibling,ee=E.nextSibling,te=ee.firstChild,le=te.firstChild,Ne=le.firstChild,ae=Ne.nextSibling,Pe=le.nextSibling,T=Pe.firstChild;T.firstChild;var Le=T.nextSibling,F=Le.firstChild,Oe=F.nextSibling,re=te.nextSibling,Ye=re.firstChild,se=Ye.nextSibling,J=re.nextSibling,De=J.firstChild,ne=De.nextSibling,Me=J.nextSibling,je=Me.firstChild,Ee=s.nextSibling,Ke=Ee.firstChild;return r(n,m(Je,{}),d),r(i,$,E),X.addEventListener("change",t=>I(t.target.value)),K.addEventListener("change",t=>I(t.target.value)),R.addEventListener("change",t=>H(t.target.value)),L.addEventListener("change",t=>D(t.target.value)),r(L,()=>Object.keys(x()).map(t=>(()=>{var e=Ve();return e.value=t,r(e,t),u(()=>e.selected=$()===t),e})()),null),r(Se,()=>[{id:"doctor&drug",label:"Dokter & Obat"},{id:"drug",label:"Obat"},{id:"doctor",label:"Dokter"}].map(t=>(()=>{var e=Xe(),g=e.firstChild,_=g.nextSibling;return g.addEventListener("change",b=>ge(b.target.value)),r(_,()=>t.label),u(b=>{var O=t.id,ie=t.id;return O!==b.e&&S(g,"id",b.e=O),ie!==b.t&&S(_,"for",b.t=ie),b},{e:void 0,t:void 0}),u(()=>g.value=t.id),u(()=>g.checked=M()===t.id),e})())),ae.addEventListener("change",t=>U(t.target.value)),r(T,()=>Number(y()).toLocaleString(),null),F.$$input=t=>W(t.target.value),Oe.$$click=fe,se.addEventListener("change",t=>C(t.target.value)),r(ee,()=>P().map((t,e)=>(()=>{var g=Ze(),_=g.firstChild;_.firstChild;var b=_.nextSibling;return S(_,"for",`comment${e+1}`),r(_,e+1,null),b.addEventListener("change",O=>ve(e,O.target.value)),S(b,"id",`comment${e+1}`),b.value=t,S(b,"placeholder",`Keterangan - ${e+1}`),g})()),J),ne.addEventListener("change",t=>pe(t.target.value)),je.$$click=he,r(s,m(Ae,{}),null),r(Ke,m(Ie,{get each(){return x()[$()]},children:t=>m(Ge,{get children(){return[m(h,{get when(){return t.label==="fee"},get children(){var e=v();return e.style.setProperty("top","175mm"),e.style.setProperty("left","80mm"),r(e,()=>Number(y()).toLocaleString()),e}}),m(h,{get when(){return t.label==="date"},get children(){var e=v();return e.style.setProperty("top","157mm"),e.style.setProperty("left","160mm"),r(e,()=>A(B(),"YYYY-MM-DD").format("DD MMMM YYYY")),e}}),m(h,{get when(){return t.label==="name"},get children(){var e=v();return e.style.setProperty("top","120mm"),e.style.setProperty("left","85mm"),r(e,j),e}}),m(h,{get when(){return t.label==="terbilang"},get children(){var e=v();return e.style.setProperty("top","130mm"),e.style.setProperty("left","85mm"),r(e,q),e}}),m(h,{get when(){return t.label==="comment1"},get children(){var e=v();return e.style.setProperty("top","135mm"),e.style.setProperty("left","85mm"),r(e,()=>P()[0]),e}}),m(h,{get when(){return t.label==="comment2"},get children(){var e=v();return e.style.setProperty("top","143mm"),e.style.setProperty("left","50mm"),r(e,()=>P()[1]),e}}),m(h,{get when(){return t.label==="comment3"},get children(){var e=v();return e.style.setProperty("top","151mm"),e.style.setProperty("left","50mm"),r(e,()=>P()[2]),e}}),m(h,{get when(){return t.label==="username"},get children(){var e=v();return e.style.setProperty("top","185mm"),e.style.setProperty("left","180mm"),r(e,z),e}})]}})})),u(t=>{var e=`min-h-screen flex flex-col ${a.bg} `,g=k()!=="costum";return e!==t.e&&Be(n,t.e=e),g!==t.t&&(R.disabled=t.t=g),t},{e:void 0,t:void 0}),u(()=>X.checked=k()==="default"),u(()=>K.checked=k()==="costum"),u(()=>R.value=B()),u(()=>L.value=$()),u(()=>ae.value=j()),u(()=>F.value=y()),u(()=>se.value=q()),u(()=>ne.value=z()),l})()}Ue(["input","click"]);export{tt as default};
