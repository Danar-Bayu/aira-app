import{u as se,a as l,o as le,b as ie,t as b,i as n,c as o,N as oe,S as D,d as I,e as de,s as ce,F as L,f as be}from"./index-DXDLFBei.js";import{c as w}from"./axiosApi-B-s5UtN4.js";import{F as ue}from"./Footer-B75p_J2n.js";import{p as fe}from"./profile-user-white-B8zYd-4a.js";var ge=b('<div class="flex flex-col h-50 items-center justify-center"><p class="text-lg font-semibold text-center">'),he=b('<div class="bg-blue-200 min-h-screen flex flex-col"><div class="flex flex-col min-h-screen"><main class="container flex-grow mx-auto px-4 h-4/5"><div><div class="w-85 space-y-1"><label for=email class="font-sans antialiased text-stone-800 font-semibold">Nama Pasien atau Orang Tua</label><div class="flex w-full max-w-sm items-center justify-center gap-2"><div class="relative w-full"><input placeholder="nama pasien atau orang tua"class="w-full aria-disabled:cursor-not-allowed outline-none focus:outline-none text-stone-800 placeholder:text-stone-600/60 ring-transparent border border-stone-200 transition-all ease-in disabled:opacity-50 disabled:pointer-events-none select-none text-sm py-2 px-2.5 ring shadow-sm bg-white rounded-lg duration-100 hover:border-stone-300 hover:ring-none focus:border-stone-400 focus:ring-none peer"name=inputName></div><button class="inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none text-sm py-2 px-4 shadow-sm hover:shadow-md bg-blue-800 relative bg-gradient-to-b from-blue-600 to-blue-800 border-blue-900 text-blue-50 rounded-lg hover:bg-gradient-to-b hover:from-stone-800 hover:to-stone-800 hover:border-stone-900 after:absolute after:inset-0 after:rounded-[inherit] after:box-shadow after:shadow-[inset_0_1px_0px_rgba(255,255,255,0.25),inset_0_-2px_0px_rgba(0,0,0,0.35)] after:pointer-events-none transition antialiased">Cari</button></div></div></div><hr class="mt-6 border-b-1 border-gray-400">'),me=b('<div class="overflow-x-auto mt-2 bg-white"><table class="w-full border-collapse border-gray-500 "><thead><tr class=bg-gray-200><th class="border border-gray-300 px-4 py-2 text-left">RM</th><th class="border border-gray-300 px-4 py-2 text-left">Nama</th><th class="border border-gray-300 px-4 py-2 text-left hidden md:table-cell">Orang Tua</th><th class="border border-gray-300 px-4 py-2 text-left">Alamat</th></tr></thead><tbody></tbody></table><div class="flex justify-center"><div class="fixed antialiased inset-0 bg-stone-800 bg-opacity-75 flex justify-center items-center opacity-0 pointer-events-none transition-opacity duration-300 ease-out z-[9999]"id=exampleModalForm aria-hidden=true><div class="bg-white rounded-lg w-9/12 sm:w-7/12 md:w-5/12 lg:w-3/12 scale-95 transition-transform duration-300 ease-out"><div class="pt-4 px-4 flex justify-between items-start"><div class="flex flex-col justify-between items-center"><h1 class="text-xl text-stone-800 font-semibold ">KONFIRMASI PENDAFTARAN</h1></div><button type=button data-dui-dismiss=modal aria-label=Close class="text-stone-500 hover:text-stone-800">&times;</button></div><div class=p-4><div class="mb-4 mt-2 space-y-1.5"><label class="font-sans text-sm text-stone-800 font-semibold mb-2">Pilih Spesialis</label><select class="w-full p-2 border rounded-md docus:outline-none focus:ring-2 focus:ring-blue-500"><option value>-- Pilih Spesialis --</option></select></div></div><div class=" px-4 pb-4 flex flex-col justify-end gap-2"><button type=button class="inline-flex w-full items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none text-sm py-2 px-4 shadow-sm hover:shadow-md bg-stone-800 hover:bg-stone-700 relative bg-gradient-to-b from-stone-700 to-stone-800 border-stone-900 text-stone-50 rounded-lg hover:bg-gradient-to-b hover:from-stone-800 hover:to-stone-800 hover:border-stone-900 after:absolute after:inset-0 after:rounded-[inherit] after:box-shadow after:shadow-[inset_0_1px_0px_rgba(255,255,255,0.25),inset_0_-2px_0px_rgba(0,0,0,0.35)] after:pointer-events-none transition ">DAFTAR '),xe=b('<tr><td class="border border-gray-300 px-4 py-2"></td><td class="border border-gray-300 px-4 py-2 md:hidden"><div><span class=font-semibold></span><div class="text-sm text-gray-500"></div><div class="text-sm text-gray-500"></div></div></td><td class="border border-gray-300 px-4 py-2 hidden md:table-cell"><div><span class=font-semibold></span><div class="text-sm text-gray-500"></div></div></td><td class="border border-gray-300 px-4 py-2 hidden md:table-cell"></td><td class="border border-gray-300 px-4 py-2 text-sm">'),pe=b('<tr class=bg-blue-300><td colspan=4 class="border border-gray-300 px-4 py-2 text center"><div class="flex flex-row justify-between"><button type=button data-dui-toggle=modal data-dui-target=#exampleModalForm class="inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none text-sm py-2 px-4 shadow-sm hover:shadow-md bg-blue-800 relative bg-gradient-to-b from-blue-600 to-blue-800 border-blue-900 text-blue-50 rounded-lg hover:bg-gradient-to-b hover:from-stone-800 hover:to-stone-800 hover:border-stone-900 after:absolute after:inset-0 after:rounded-[inherit] after:box-shadow after:shadow-[inset_0_1px_0px_rgba(255,255,255,0.25),inset_0_-2px_0px_rgba(0,0,0,0.35)] after:pointer-events-none transition antialiased">Pilih</button><button type=button class="inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center duration-300 ease-in disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed focus:shadow-none text-sm py-2 px-4 shadow-sm hover:shadow-md bg-blue-800 relative bg-gradient-to-b from-blue-600 to-blue-800 border-blue-900 text-blue-50 rounded-lg hover:bg-gradient-to-b hover:from-stone-800 hover:to-stone-800 hover:border-stone-900 after:absolute after:inset-0 after:rounded-[inherit] after:box-shadow after:shadow-[inset_0_1px_0px_rgba(255,255,255,0.25),inset_0_-2px_0px_rgba(0,0,0,0.35)] after:pointer-events-none transition antialiased"><img class="w-5 mr-2">Detail'),ve=b("<option>Spesialis <!> - ");function ke(_e){const C=se(),[S,O]=l(""),[K,z]=l({}),[k,B]=l(""),[W,q]=l([]),[j,G]=l(""),[H,N]=l({}),[R,A]=l("Silakan cari nama pasien"),[$e,P]=l({});le(()=>{document.title="List Pasien"}),ie(()=>{const t=new AbortController;w.get("doctors",{signal:t.signal}).then(a=>{const r=a.data.data;q(r)})});function J(t){let a={};k()===""&&(a.doctor="Silakan pilih dokter"),P(a);let r=Object.keys(a).length>0;return r&&setTimeout(()=>{P({})},2e3),!r}function Q(t){t.target.name==="inputName"&&t.key==="Enter"&&M({name:t.currentTarget.value})}function U({pasien:t}){O(t.numberRM)}function V(){let t=j();M({name:t})}function M({name:t}){console.log(t);const a=new AbortController;w.get("patient/search",{params:{name:t},signal:a.signal}).then(r=>{r.data.data.length===0?(N([]),A('Nama : "'+j()+'" tidak ditemukan')):(N(r.data.data),A(""))}).catch(r=>{console.log(r.response)})}function X(t){if(J()){const a=new AbortController;w.post("mr/register",{doctorId:k(),patientId:K()},{signal:a.signal}).then(r=>{C("/register/sukses",{state:{data:r.data.data},replace:!0})}).catch(r=>{alert(r.message)})}}return(()=>{var t=he(),a=t.firstChild,r=a.firstChild,h=r.firstChild,v=h.firstChild,_=v.firstChild,$=_.nextSibling,m=$.firstChild,u=m.firstChild,y=m.nextSibling;return h.nextSibling,n(a,o(oe,{}),r),u.addEventListener("change",d=>G(d.currentTarget.value)),u.$$keydown=Q,y.$$click=V,n(r,o(D,{get when(){return R()},get fallback(){return o(Y,{})},get children(){var d=ge(),f=d.firstChild;return n(f,R),d}}),null),n(a,o(ue,{}),null),t})();function Y(){return(()=>{var t=me(),a=t.firstChild,r=a.firstChild,h=r.nextSibling,v=a.nextSibling,_=v.firstChild,$=_.firstChild,m=$.firstChild,u=m.nextSibling,y=u.firstChild,d=y.firstChild,f=d.nextSibling;f.firstChild;var Z=u.nextSibling,ee=Z.firstChild;return n(h,o(L,{get each(){return H()},children:e=>[(()=>{var s=xe(),c=s.firstChild,i=c.nextSibling,x=i.firstChild,g=x.firstChild,p=g.nextSibling,te=p.nextSibling,E=i.nextSibling,re=E.firstChild,F=re.firstChild,ae=F.nextSibling,T=E.nextSibling,ne=T.nextSibling;return s.$$click=()=>U({pasien:e}),n(c,()=>e.numberRM),n(g,()=>e.name),n(p,()=>e.dob),n(te,()=>e.parent),n(F,()=>e.name),n(ae,()=>e.dob),n(T,()=>e.parent),n(ne,()=>e.address),I(()=>de(s,`border border-gray-300 ${S()===e.numberRM?"bg-blue-300":""}`)),s})(),o(D,{get when(){return S()===e.numberRM},fallback:[],get children(){var s=pe(),c=s.firstChild,i=c.firstChild,x=i.firstChild,g=x.nextSibling,p=g.firstChild;return x.$$click=()=>z(e.uuid),g.$$click=()=>C(`/pasien/${e.uuid}`),ce(p,"src",fe),s}})]})),f.$$input=e=>B(e.currentTarget.value),n(f,o(L,{get each(){return W()},children:e=>(()=>{var s=ve(),c=s.firstChild,i=c.nextSibling;return i.nextSibling,n(s,()=>e==null?void 0:e.specialtyName,i),n(s,()=>e==null?void 0:e.name,null),I(()=>s.value=e.id),s})()}),null),ee.$$click=X,t})()}}be(["keydown","click","input"]);export{ke as default};
